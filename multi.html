
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>Â§ö‰∫∫ÈÅ∏ÊìáÂ∞èÂπ´Êâã - Âª∫Á´ãÊàøÈñì</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<link rel="icon" type="image/png" sizes="32x32" href="icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="icon.png">
<link rel="manifest" href="manifest.json">
<style>
  body {font-family: "Segoe UI", sans-serif; background-color: #f0f9ff; margin: 0; padding: 0;}
  h1 {text-align: center; padding: 20px; color: #2c3e50; margin: 0;}
  .page {display: none; padding: 20px; max-width: 600px; margin: auto;}
  .page.active {display: block;}
  .btn-primary {background-color: #3db8c4; color: white; border: none; border-radius: 8px; padding: 10px 16px; font-size: 16px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: all 0.2s ease;}
  .btn-primary:hover {background-color: #35a4af;}
  .btn-confirm {background-color: #2c3e50; color: white; border: none; border-radius: 8px; padding: 10px 16px; font-size: 16px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: all 0.2s ease;}
  .btn-confirm:hover {background-color: #1e2a38;}
  input {padding: 10px; font-size: 16px; margin: 8px 0; border-radius: 5px; border: 1px solid #ccc; width: 100%; box-sizing: border-box;}
  .item-container {display: flex; flex-wrap: wrap; gap: 6px; max-height: calc(1.8em * 3 + 20px); overflow-y: auto; padding: 4px; background: #ffffffaa; border-radius: 8px;}
  .item-box {background: #e0f4ff; border-radius: 16px; padding: 6px 10px; font-size: 14px; white-space: nowrap; max-width: 150px; overflow: hidden; text-overflow: ellipsis; display: flex; align-items: center;}
  .remove-btn {background: none; border: none; color: #c0392b; font-size: 16px; cursor: pointer; margin-left: 6px; flex-shrink: 0;}
  .header-row {display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;}
  .modal {position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; z-index: 9999;}
  .modal-content {background: white; max-width: 90%; max-height: 80%; overflow-y: auto; padding: 20px; border-radius: 8px; text-align: center;}
  .hidden {display: none;}
</style>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
<script>
const firebaseConfig = {
    apiKey: "AIzaSyBUbKgC4P7wGFQqZZmgJU890qOe_4yC9kA",
    authDomain: "choosehel.firebaseapp.com",
    databaseURL: "https://choosehel-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "choosehel",
    storageBucket: "choosehel.appspot.com",
    messagingSenderId: "116763876894",
    appId: "1:116763876894:web:1662b36ef2fa815863d80f"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

let userId;

function createRoom() {
  const roomName = document.getElementById('roomNameInput').value.trim();
  const userName = document.getElementById('userNameInput').value.trim();
  if (!roomName || !userName) {
    alert('Ë´ãËº∏ÂÖ•ÊàøÈñìÂêçÁ®±Âíå‰Ω†ÁöÑÂêçÁ®±');
    return;
  }
  const roomId = encodeURIComponent(roomName);
  userId = 'user_' + Math.random().toString(36).substr(2, 9);
  const roomRef = db.ref('rooms/' + roomId);

  roomRef.once('value').then(snapshot => {
    if (!snapshot.exists()) {
      roomRef.set({
        name: roomName,
        creator: userName,
        list: [],
        participants: {}
      });
    }
    roomRef.child('participants/' + userId).set({ name: userName });
    localStorage.setItem('currentRoomId', roomId);
    localStorage.setItem('currentUserId', userId);
    document.getElementById('setupPage').classList.remove('active');
    document.getElementById('multiPage').classList.add('active');
    document.getElementById('roomNameDisplay').textContent = `ÊàøÈñìÔºö${decodeURIComponent(roomId)}`;
    loadRoomData(roomId);
    listenConfirmation(roomId);
  });
}

function showModal(content, buttons) {
  const modal = document.createElement('div');
  modal.className = 'modal';
  const modalContent = document.createElement('div');
  modalContent.className = 'modal-content';
  modalContent.innerHTML = `<p style="font-size:18px;">${content}</p>`;
  buttons.forEach(btn => {
    const button = document.createElement('button');
    button.className = btn.class || 'btn-primary';
    button.textContent = btn.text;
    button.onclick = () => {
      modal.remove();
      btn.onClick();
    };
    modalContent.appendChild(button);
  });
  modal.appendChild(modalContent);
  document.body.appendChild(modal);
}

function loadRoomData(roomId) {
  const roomRef = db.ref('rooms/' + roomId);
  const participantContainer = document.getElementById('participantContainer');
  const listContainer = document.getElementById('listContainer');

  roomRef.child('participants').on('value', snapshot => {
    const data = snapshot.val() || {};
    participantContainer.innerHTML = '';
    Object.values(data).forEach(p => {
      const div = document.createElement('div');
      div.className = 'item-box';
      div.textContent = p.name;
      participantContainer.appendChild(div);
    });
  });

  roomRef.child('list').on('value', snapshot => {
    const items = snapshot.val() || [];
    listContainer.innerHTML = '';
    items.forEach((item, index) => {
      const div = document.createElement('div');
      div.className = 'item-box';
      const span = document.createElement('span');
      span.textContent = item;
      const btn = document.createElement('button');
      btn.textContent = '‚úï';
      btn.className = 'remove-btn';
      btn.onclick = () => removeItem(index);
      div.appendChild(span);
      div.appendChild(btn);
      listContainer.appendChild(div);
    });
  });
roomRef.child('decisionMode').on('value', snapshot => {
  const mode = snapshot.val() || '';
  document.getElementById('selectedMode').textContent = mode ? `Â∑≤ÈÅ∏ÊìáÔºö${mode}` : '';
  const decideModeDisplay = document.getElementById('decideModeDisplay');
  if (decideModeDisplay) decideModeDisplay.textContent = mode ? `Ê±∫ÂÆöÊñπÂºèÔºö${mode}` : '';
});

}

function addItem() {
  const roomId = localStorage.getItem('currentRoomId');
  const input = document.getElementById('itemInput');
  const value = input.value.trim();
  if (!value) return;
  const listRef = db.ref('rooms/' + roomId + '/list');
  listRef.once('value').then(snapshot => {
    let list = snapshot.val() || [];
    list.push(value);
    listRef.set(list);
  });
  input.value = '';
}

function removeItem(index) {
  const roomId = localStorage.getItem('currentRoomId');
  const listRef = db.ref('rooms/' + roomId + '/list');
  listRef.once('value').then(snapshot => {
    let list = snapshot.val() || [];
    list.splice(index, 1);
    listRef.set(list);
  });
}

function importItems() {
  const roomId = localStorage.getItem('currentRoomId');
  const text = prompt('Ë´ãË≤º‰∏äË¶ÅÂåØÂÖ•ÁöÑÈ†ÖÁõÆÔºàJSON ÊàñÊØèË°å‰∏ÄÈ†ÖÔºâÔºö');
  if (!text) return;
  let items = [];
  try {
    const parsed = JSON.parse(text);
    if (parsed.items) items = parsed.items;
    else throw new Error();
  } catch {
    items = text.split('\n').map(s => s.trim()).filter(Boolean);
  }
  if (items.length === 0) return;
  const listRef = db.ref('rooms/' + roomId + '/list');
  listRef.once('value').then(snapshot => {
    let list = snapshot.val() || [];
    list = list.concat(items);
    listRef.set(list);
  });
}

function shareRoom() {
  const roomId = localStorage.getItem('currentRoomId');
  const url = `${location.origin}${location.pathname}?room=${roomId}`;

  // Âª∫Á´ã modal
  const modal = document.createElement('div');
  modal.className = 'modal';
  const modalContent = document.createElement('div');
  modalContent.className = 'modal-content';

  const title = document.createElement('p');
  title.textContent = 'Ë´ãÈÅ∏ÊìáÂàÜ‰∫´ÊñπÂºè';
  title.style.fontSize = '18px';
  modalContent.appendChild(title);

  // ÂàÜ‰∫´ÊåâÈàï
  const shareBtn = document.createElement('button');
  shareBtn.textContent = 'üì§ ÂàÜ‰∫´';
  shareBtn.className = 'btn-primary';
  shareBtn.style.margin = '8px';
  shareBtn.onclick = () => {
    if (navigator.share) {
      navigator.share({
        title: 'Âä†ÂÖ•ÊàëÁöÑÈÅ∏ÊìáÊàøÈñì',
        text: 'ÈªûÊìäÂø´ÈÄüÂä†ÂÖ•ÊàøÈñìÔºÅ',
        url
      }).catch(err => alert('ÂàÜ‰∫´Â§±Êïó: ' + err));
    } else {
      alert('Ê≠§Ë£ùÁΩÆ‰∏çÊîØÊè¥Áõ¥Êé•ÂàÜ‰∫´ÂäüËÉΩ');
    }
    modal.remove();
  };
  modalContent.appendChild(shareBtn);

  // Ë§áË£ΩÊåâÈàï
  const copyBtn = document.createElement('button');
  copyBtn.textContent = 'üìã Ë§áË£ΩÈÄ£Áµê';
  copyBtn.className = 'btn-primary';
  copyBtn.style.margin = '8px';
  copyBtn.onclick = () => {
    navigator.clipboard.writeText(url)
      .then(() => alert('Â∑≤Ë§áË£ΩÈÄ£ÁµêÔºåÂèØÁõ¥Êé•Ë≤ºÁµ¶ÊúãÂèãÔºÅ'))
      .catch(err => alert('Ë§áË£ΩÂ§±ÊïóÔºåË´ãÊâãÂãïË§áË£Ω'));
    modal.remove();
  };
  modalContent.appendChild(copyBtn);

  // ÂèñÊ∂àÊåâÈàï
  const cancelBtn = document.createElement('button');
  cancelBtn.textContent = '‚ùå ÂèñÊ∂à';
  cancelBtn.className = 'btn-confirm';
  cancelBtn.style.margin = '8px';
  cancelBtn.onclick = () => {
    modal.remove();
  };
  modalContent.appendChild(cancelBtn);

  modal.appendChild(modalContent);
  document.body.appendChild(modal);
}


// ÂêåÊÑèÊ©üÂà∂
function listenConfirmation(roomId) {
  const confirmRef = db.ref(`rooms/${roomId}/confirm`);
  confirmRef.on('value', snapshot => {
    const data = snapshot.val();
    if (data && data.active) {
      showModal('‰Ω†ÊòØÂê¶ÂêåÊÑèÊ≠§Ê∏ÖÂñÆÔºü', [
        { text: 'ÂêåÊÑè', class: 'btn-confirm', onClick: () => confirmRef.child('responses').child(userId).set(true) },
        { text: '‰∏çÂêåÊÑè', class: 'btn-primary', onClick: () => confirmRef.set(null) }
      ]);
    }
  });
}

function requestConfirmation() {
  const roomId = localStorage.getItem('currentRoomId');
  const roomRef = db.ref(`rooms/${roomId}`);
  roomRef.child('participants').once('value').then(snapshot => {
    const participants = snapshot.val() || {};
    const total = Object.keys(participants).length;
    const confirmRef = roomRef.child('confirm');
    confirmRef.set({ active: true, responses: {} });
    confirmRef.child('responses').on('value', snap => {
      const responses = snap.val() || {};
      if (Object.keys(responses).length === total) {
        confirmRef.off();
        confirmRef.set(null);
document.getElementById('multiPage').classList.remove('active');
document.getElementById('decidePage').classList.add('active');
document.getElementById('decideRoomNameDisplay').textContent = document.getElementById('roomNameDisplay').textContent;


        // ‚ö†Ô∏è TODO: ÂØ¶ÈöõÂ∞éÂêë‰∏ã‰∏ÄÊ≠•È†ÅÈù¢ÊàñËß∏ÁôºÊäΩÁ±§ÔºåÂèØÊé•‰Ω†ÁöÑÂãïÁï´Á®ãÂºè
      }
    });
  });
}
</script>
</head>
<body>
<h1>Â§ö‰∫∫ÈÅ∏ÊìáÂ∞èÂπ´Êâã</h1>
<div class="page active" id="setupPage">
<div class="header-row" style="justify-content: flex-end;">
    <button class="btn-primary" style="padding:6px 12px; font-size:14px;" onclick="leaveRoom()">üèÉ Èõ¢Èñã</button>
</div>

  <h2>Âª∫Á´ã / Âä†ÂÖ•ÊàøÈñì</h2>
  <input type="text" id="roomNameInput" placeholder="ÊàøÈñìÂêçÁ®±" />
  <input type="text" id="userNameInput" placeholder="‰Ω†ÁöÑÂêçÁ®±" />
  <button class="btn-primary" onclick="createRoom()">Âª∫Á´ã / Âä†ÂÖ•</button>
</div>
<div class="page" id="multiPage">


<div class="header-row">
    <span id="roomNameDisplay" style="font-weight:bold;"></span>
    <button class="btn-primary" style="padding:6px 12px; font-size:14px;" onclick="shareRoom()">ÂàÜ‰∫´</button>
    <button class="btn-primary" style="padding:6px 12px; font-size:14px;" onclick="leaveRoom()">üèÉ Èõ¢Èñã</button>
</div>

  <div><strong>ÂèÉËàáËÄÖÔºö</strong>
    <div id="participantContainer" class="item-container"></div>
  </div>
<div style="text-align:center; margin-bottom:10px;">
  <button class="btn-primary" onclick="chooseDecisionMode()">Ê±∫ÂÆöÊñπÂºè</button>
  <span id="selectedMode" style="margin-left:8px; font-weight:bold; color:#2c3e50;"></span>
</div>
  <div style="margin-top: 20px;"><strong>üìÉ Ê∏ÖÂñÆÈ†ÖÁõÆÔºö</strong>
    <div id="listContainer" class="item-container"></div>
    <input type="text" id="itemInput" placeholder="Ëº∏ÂÖ•È†ÖÁõÆ‰∏¶Êåâ Enter" onkeypress="if(event.key==='Enter') addItem();" />
    <div style="display:flex; gap:6px; margin-top:4px;">
      <button class="btn-primary" onclick="addItem()">Êñ∞Â¢ûÈ†ÖÁõÆ</button>
      <button class="btn-primary" onclick="importItems()">ÂåØÂÖ•</button>
    </div>
    <div style="margin-top:10px;">
      <button class="btn-confirm" onclick="requestConfirmation()">ÊàëÂêåÊÑèÊ≠§Ê∏ÖÂñÆ</button>
    </div>
  </div>
</div>
<div class="page" id="decidePage">
<div class="header-row">
  <span id="decideRoomNameDisplay" style="font-weight:bold;"></span>
  <span id="decideModeDisplay" style="margin-left:10px; font-weight:bold; color:#2c3e50;"></span>
</div>

  <div style="text-align:center; margin-top: 30px;">
    <button class="btn-primary" onclick="startDraw()">üé≤ ÈñãÂßãÊäΩÁ±§</button>
    <div id="resultArea" style="font-size: 2em; margin-top: 20px;"></div>
  </div>
</div>
<script>
window.addEventListener('DOMContentLoaded', () => {
  document.getElementById('setupPage').classList.add('active');
});
function startDraw() {
  const roomId = localStorage.getItem('currentRoomId');
  const finalResultRef = db.ref(`rooms/${roomId}/finalResult`);
  const listRef = db.ref('rooms/' + roomId + '/list');
  const modeRef = db.ref('rooms/' + roomId + '/decisionMode');

  // ÂÖàÊ™¢Êü•ÊòØÂê¶Â∑≤Á∂ìÊúâÊúÄÁµÇÁµêÊûú
  finalResultRef.once('value').then(finalSnap => {
    const existingResult = finalSnap.val();
    if (existingResult) {
      showModal(`‚ö†Ô∏è Êú¨Ê¨°ÊäΩÁ±§Â∑≤ÂÆåÊàêÔºåÁµêÊûúÁÇ∫Ôºö${existingResult}`, [
        { text: 'Â•ΩÁöÑ', class: 'btn-confirm', onClick: () => {} }
      ]);
      return; // ÈòªÊ≠¢ÁπºÁ∫åÊäΩÁ±§
    }

    // Ëã•ÁÑ°ÁµêÊûúÔºåÈÄ≤Ë°åÊäΩÁ±§ÊµÅÁ®ã
    Promise.all([
      listRef.once('value'),
      modeRef.once('value')
    ]).then(([listSnap, modeSnap]) => {
      const items = listSnap.val() || [];
      const mode = modeSnap.val() || '‰∏ÄÊäΩÂÖ•È≠Ç'; // È†êË®≠‰∏ÄÊäΩÂÖ•È≠Ç

      if (items.length === 0) {
        alert('‚ö†Ô∏è ÁõÆÂâçÊ≤íÊúâÂèØÊäΩÁ±§ÁöÑÈ†ÖÁõÆ');
        return;
      }

      const spinList = [];
      for (let i = 0; i < 60; i++) {
        spinList.push(items[Math.floor(Math.random() * items.length)]);
      }
      const finalItem = items[Math.floor(Math.random() * items.length)];
      spinList.push(finalItem);

      const resultArea = document.getElementById('resultArea');
      resultArea.textContent = 'üé∞ ÊäΩÁ±§‰∏≠...';

      let index = 0;
      const interval = setInterval(() => {
        resultArea.textContent = spinList[index];
        index++;
        if (index >= spinList.length) {
          clearInterval(interval);

          if (mode === '‰∏ÄÊäΩÂÖ•È≠Ç') {
            db.ref(`rooms/${roomId}/finalResult`).set(finalItem); // Ë®òÈåÑÊúÄÁµÇÁµêÊûú
            showFinalResult(finalItem);
          } else if (mode === 'Â§öÊï∏Ê±∫' || mode === 'ÂÖ±Ë≠òÊ±∫') {
            initiateVoting(finalItem, mode);
          } else {
            alert(`‚ö†Ô∏è Êú™Áü•Ê±∫ÂÆöÊ®°ÂºèÔºåÈ†êË®≠Êé°Áî®‰∏ÄÊäΩÂÖ•È≠Ç`);
            db.ref(`rooms/${roomId}/finalResult`).set(finalItem); // Ë®òÈåÑÊúÄÁµÇÁµêÊûú
            showFinalResult(finalItem);
          }
        }
      }, 50);
    });
  });
}


function chooseDecisionMode() {
  showModal('ÈÅ∏ÊìáÊ±∫ÂÆöÊñπÂºè', [
    { text: '‰∏ÄÊäΩÂÖ•È≠Ç', onClick: () => setDecisionMode('‰∏ÄÊäΩÂÖ•È≠Ç') },
    { text: 'Â§öÊï∏Ê±∫', onClick: () => setDecisionMode('Â§öÊï∏Ê±∫') },
    { text: 'ÂÖ±Ë≠òÊ±∫', onClick: () => setDecisionMode('ÂÖ±Ë≠òÊ±∫') },
  ]);
}

function setDecisionMode(mode) {
  const roomId = localStorage.getItem('currentRoomId');
  db.ref(`rooms/${roomId}/decisionMode`).set(mode);
  document.getElementById('selectedMode').textContent = `Â∑≤ÈÅ∏ÊìáÔºö${mode}`;
}
function showFinalResult(result) {
  const modal = document.createElement('div');
  modal.className = 'modal';
  const modalContent = document.createElement('div');
  modalContent.className = 'modal-content';
  modalContent.innerHTML = `
    <h2 style="font-size:2em;">üéâ ÊúÄÁµÇÁµêÊûú üéâ</h2>
    <p style="font-size:1.8em; color:#3db8c4; font-weight:bold; margin: 20px 0;">${result}</p>
    <p style="font-size:1em;">ÊÅ≠ÂñúÔºÅÊú¨Ê¨°ÊäΩÁ±§Â∑≤ÂÆåÊàê</p>
  `;

  // ÂΩ©Â∏∂ÁâπÊïàÔºàÁ∞°ÊòìÂãïÁï´Ôºâ
  confettiEffect();

  const btn = document.createElement('button');
  btn.className = 'btn-confirm';
  btn.textContent = 'ÈóúÈñâ';
  btn.onclick = () => modal.remove();
  modalContent.appendChild(btn);

  modal.appendChild(modalContent);
  document.body.appendChild(modal);
}

// ÂèØÈÅ∏ÊìáÊòØÂê¶‰ΩøÁî®ÔºåÂ¶Ç‰∏çË¶ÅÂèØÂà™Èô§

function confettiEffect() {
  for (let i = 0; i < 30; i++) {
    const confetti = document.createElement('div');
    confetti.textContent = 'üéä';
    confetti.style.position = 'fixed';
    confetti.style.top = '-50px';
    confetti.style.left = Math.random() * 100 + 'vw';
    confetti.style.fontSize = '2em';
    confetti.style.animation = `fall ${2 + Math.random() * 3}s linear forwards`;
    document.body.appendChild(confetti);

    confetti.addEventListener('animationend', () => {
      confetti.remove();
    });
  }
}

// Âä†ÂÖ•Á∞°Êòì falling ÂãïÁï´
const style = document.createElement('style');
style.textContent = `
@keyframes fall {
  to {
    transform: translateY(110vh) rotate(360deg);
    opacity: 0;
  }
}
`;
document.head.appendChild(style);

function initiateVoting(finalItem, mode) {
  const roomId = localStorage.getItem('currentRoomId');
  const voteRef = db.ref(`rooms/${roomId}/vote`);

  // Ê∏ÖÈô§ÂÖàÂâçÊäïÁ•®Á¥ÄÈåÑ
  voteRef.set({
    item: finalItem,
    mode: mode,
    votes: {}
  });

  // ÁôºÈÄÅÊäïÁ•®ÂΩàÁ™óÁµ¶‰ΩøÁî®ËÄÖ
  showModal(`ÊòØÂê¶ÂêåÊÑèÂ∞á "${finalItem}" ‰ΩúÁÇ∫ÊúÄÁµÇÁµêÊûúÔºü`, [
    {
      text: 'ÂêåÊÑè',
      class: 'btn-confirm',
      onClick: () => {
        const userId = localStorage.getItem('currentUserId');
        voteRef.child('votes').child(userId).set(true);
      }
    },
    {
      text: '‰∏çÂêåÊÑè',
      class: 'btn-primary',
      onClick: () => {
        const userId = localStorage.getItem('currentUserId');
        voteRef.child('votes').child(userId).set(false);
      }
    }
  ]);

  // Áõ£ËÅΩÊäïÁ•®ÈÄ≤Â∫¶
  db.ref(`rooms/${roomId}/participants`).once('value').then(snap => {
    const participants = snap.val() || {};
    const total = Object.keys(participants).length;

    voteRef.child('votes').on('value', snapshot => {
      const votes = snapshot.val() || {};
      const agreeCount = Object.values(votes).filter(v => v === true).length;
      const disagreeCount = Object.values(votes).filter(v => v === false).length;

      // Âà§Êñ∑ÊäïÁ•®ÁµêÊùüÊ¢ù‰ª∂
      if (Object.keys(votes).length === total) {
        voteRef.child('votes').off(); // ÂÅúÊ≠¢Áõ£ËÅΩ

        if (mode === 'Â§öÊï∏Ê±∫' && agreeCount > total / 2) {
db.ref(`rooms/${roomId}/finalResult`).set(finalItem);

          showFinalResult(finalItem);
        } else if (mode === 'ÂÖ±Ë≠òÊ±∫' && agreeCount === total) {
db.ref(`rooms/${roomId}/finalResult`).set(finalItem);

          showFinalResult(finalItem);
        } else {
          showModal('‚ùå Êú™ÈÅîÊàêÊ¢ù‰ª∂ÔºåË´ãÈáçÊñ∞ÊäΩÁ±§', [
            { text: 'Â•ΩÁöÑ', class: 'btn-primary', onClick: () => voteRef.remove() }
          ]);
        }
      }
    });
  });
}
function leaveRoom() {
    showModal('Á¢∫ÂÆöË¶ÅÈõ¢ÈñãÊ≠§ÊàøÈñìÂóéÔºü', [
        {
            text: 'Á¢∫ÂÆö',
            class: 'btn-confirm',
            onClick: () => {
                // Ê∏ÖÈô§ localStorage Ë≥áÊñô
                localStorage.removeItem('currentRoomId');
                localStorage.removeItem('currentUserId');

                // Â∞éÂõû index.html
                window.location.href = 'index.html';
            }
        },
        {
            text: 'ÂèñÊ∂à',
            class: 'btn-primary',
            onClick: () => {}
        }
    ]);
}

</script>
</body>
</html>



